---
import { Icon } from "astro-icon/components";

export interface Props {
  tagline: string;
  title: string;
  description: string;
  faqs: Array<{
    question: string;
    answer: string;
  }>;
}

const { tagline, title, description, faqs } = Astro.props;
---

<section class="bg-[#f8f9fa] flex flex-col gap-20 items-center justify-start overflow-clip px-16 py-28 relative w-full" data-aos="fade-up">
  <div class="flex flex-col gap-20 items-start justify-start max-w-[1280px] relative w-full">
    <div class="flex flex-col gap-8 items-start justify-start relative w-full" data-aos="fade-right">
      <div class="text-[#2d862d] uppercase font-urbanist font-semibold relative text-[14px] tracking-[1.4px] w-full">
        {tagline}
      </div>
      <div class="flex flex-col gap-6 items-start justify-start leading-[0] relative text-[#0c0801] w-full">
        <div class="font-urbanist font-medium relative text-[48px] tracking-[0.48px] w-full">
          <p class="leading-[1.2]">{title}</p>
        </div>
        <div class="font-heebo font-normal relative text-[20px] w-full max-w-3xl">
          <p class="leading-[1.6]">{description}</p>
        </div>
      </div>
    </div>
    
    <div class="flex flex-col gap-4 items-start justify-start relative w-full">
      {faqs.map((faq, index) => (
        <details class="bg-white border border-[#e9ecef] group relative rounded-[12px] w-full overflow-hidden" data-aos="fade-up" data-aos-delay={100 + (index * 50)}>
          <summary class="cursor-pointer flex gap-4 items-center justify-between p-6 relative w-full list-none">
            <div class="font-urbanist font-medium text-[#0c0801] text-[18px] tracking-[0.18px]">
              {faq.question}
            </div>
            <Icon 
              name="ph:plus" 
              class="w-6 h-6 text-[#6c757d] transition-transform duration-300 group-open:rotate-45" 
            />
          </summary>
          <div class="border-t border-[#e9ecef] p-6 pt-4">
            <div class="font-heebo font-normal leading-[1.6] text-[#0c0801] text-[16px]">
              {faq.answer}
            </div>
          </div>
        </details>
      ))}
    </div>
  </div>
</section>

<script>
  // Enhanced FAQ functionality
  document.addEventListener('DOMContentLoaded', function() {
    const faqItems = document.querySelectorAll('details');
    
    faqItems.forEach(item => {
      item.addEventListener('toggle', function() {
        if (this.open) {
          // Close other open items
          faqItems.forEach(otherItem => {
            if (otherItem !== this && otherItem.open) {
              otherItem.open = false;
            }
          });
        }
      });
    });
  });
</script>
