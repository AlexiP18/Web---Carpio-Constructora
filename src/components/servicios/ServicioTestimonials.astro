---
import { Icon } from "astro-icon/components";

export interface Props {
  tagline: string;
  title: string;
  testimonials: Array<{
    content: string;
    author: string;
    position: string;
    avatarUrl?: string;
    rating?: number;
  }>;
}

const { tagline, title, testimonials } = Astro.props;
---

<section class="bg-white flex flex-col gap-20 items-center justify-start overflow-clip px-16 py-28 relative w-full" data-aos="fade-up">
  <div class="flex flex-col gap-20 items-start justify-start max-w-[1280px] relative w-full">
    <div class="flex flex-col gap-8 items-start justify-start relative w-full" data-aos="fade-right">
      <div class="text-[#2d862d] uppercase font-urbanist font-semibold relative text-[14px] tracking-[1.4px] w-full">
        {tagline}
      </div>
      <div class="font-urbanist font-medium relative text-[#0c0801] text-[48px] tracking-[0.48px] w-full">
        <p class="leading-[1.2]">{title}</p>
      </div>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 relative w-full">
      {testimonials.map((testimonial, index) => (
        <div class="bg-[#f8f9fa] border border-[#e9ecef] flex flex-col gap-6 items-start justify-start p-8 relative rounded-[16px]" data-aos="fade-up" data-aos-delay={200 + (index * 100)}>
          {testimonial.rating && (
            <div class="flex gap-1 items-center justify-start">
              {[...Array(testimonial.rating)].map((_, i) => (
                <Icon name="ph:star-fill" class="w-5 h-5 text-[#fbbf24]" />
              ))}
            </div>
          )}
          <div class="font-heebo font-normal leading-[1.6] text-[#0c0801] text-[16px]">
            "{testimonial.content}"
          </div>
          <div class="flex gap-4 items-center justify-start relative w-full">
            {testimonial.avatarUrl ? (
              <img 
                src={testimonial.avatarUrl} 
                alt={testimonial.author}
                class="aspect-square bg-[#e9ecef] relative rounded-full size-12 object-cover"
              />
            ) : (
              <div class="aspect-square bg-[#e9ecef] flex items-center justify-center relative rounded-full size-12">
                <Icon name="ph:user" class="w-6 h-6 text-[#6c757d]" />
              </div>
            )}
            <div class="flex flex-col gap-1 items-start justify-start">
              <div class="font-urbanist font-medium text-[#0c0801] text-[16px]">
                {testimonial.author}
              </div>
              <div class="font-heebo font-normal text-[#6c757d] text-[14px]">
                {testimonial.position}
              </div>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
