---
import { Icon } from "astro-icon/components";
import ProjectCard from "../../ui/ProjectCard.astro";
import BackgroundWavesConjunto from "../../ui/BackgroundWavesConjunto.astro";
import type { CollectionEntry } from "astro:content";

interface Props {
    title: string;
    description: string;
    projects: CollectionEntry<"proyectos">[];
    emptyMessage: {
        title: string;
        description: string;
        icon: string;
    };
}

const { title, description, projects, emptyMessage } = Astro.props;
---

<section class="py-20 relative z-10">
    <div class="absolute inset-0 w-full h-full -z-10 pointer-events-none">
        <BackgroundWavesConjunto />
    </div>

    <div class="max-w-7xl mx-auto px-6">
        <div class="text-center mb-12" data-aos="fade-up">
            <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 mb-4">
                {title}
            </h2>
            <p class="text-lg text-gray-600">
                {description}
            </p>
        </div>

        {
            projects.length > 0 ? (
                <div class="grid md:grid-cols-2 gap-8">
                    {projects.map((proyecto) => (
                        <div data-aos="fade-up" data-aos-duration="800">
                            <ProjectCard
                                title={proyecto.data.title}
                                description={proyecto.data.description}
                                imageUrl={proyecto.data.backgroundImage}
                                tags={proyecto.data.tags || []}
                                projectSlug={proyecto.slug}
                            />
                        </div>
                    ))}
                </div>
            ) : (
                <div class="text-center py-20">
                    <Icon
                        name={emptyMessage.icon}
                        class="w-24 h-24 text-gray-300 mx-auto mb-4"
                    />
                    <h3 class="text-2xl font-bold text-gray-900 mb-2">
                        {emptyMessage.title}
                    </h3>
                    <p class="text-gray-600">{emptyMessage.description}</p>
                </div>
            )
        }
    </div>
</section>
