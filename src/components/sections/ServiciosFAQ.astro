---
import { Icon } from "astro-icon/components";
---

<div class="bg-white flex flex-col px-20 py-20 max-md:px-5" data-aos="fade-up">
  <div
    class="self-center flex w-full max-w-[1272px] flex-col items-stretch mt-28 mb-10 max-md:max-w-full max-md:my-10"
  >
    <div
      class="text-black text-6xl font-bold leading-[67.2px] tracking-wider self-center max-w-[768px] text-center max-md:max-w-full max-md:text-4xl max-md:leading-[50px]"
      data-aos="fade-up"
    >
      Preguntas
    </div>
    <div
      class="text-black text-xl leading-8 tracking-wide self-center max-w-[768px] text-center mt-10 max-md:max-w-full"
      data-aos="fade-up" data-aos-delay="100"
    >
      Aquí respondemos a las preguntas más frecuentes sobre nuestros servicios de
      construcción.
    </div>
    <div
      class="bg-zinc-100 flex flex-col items-stretch mt-20 px-8 py-8 rounded-[40px] max-md:max-w-full max-md:mt-10 max-md:px-5"
      data-aos="fade-up" data-aos-delay="200"
    >
      <div class="faq-item" data-aos="fade-up" data-aos-delay="300">
        <div
          class="faq-question flex justify-between gap-5 max-md:max-w-full max-md:flex-wrap cursor-pointer"
        >
          <div class="text-black text-xl font-bold leading-8 tracking-wide">
            ¿Qué servicios ofrecen?
          </div>
          <Icon name="ph:plus" class="faq-icon w-8 h-8 text-black" />
        </div>
        <div
          class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
        >
          <p class="text-base lg:text-lg leading-[1.6] text-neutral-darkest font-heebo max-w-[768px] pt-4">
            Ofrecemos una amplia gama de servicios, incluyendo construcción residencial y comercial, remodelaciones y diseño arquitectónico. Nuestro equipo está capacitado para manejar proyectos de cualquier tamaño, asegurando calidad y eficiencia.
          </p>
        </div>
      </div>
      <div class="bg-black shrink-0 h-px mt-8 max-md:max-w-full"></div>
      <div class="faq-item mt-8" data-aos="fade-up" data-aos-delay="400">
        <div
          class="faq-question flex justify-between gap-5 max-md:max-w-full max-md:flex-wrap cursor-pointer"
        >
          <div class="text-black text-xl font-bold leading-8 tracking-wide">
            ¿Cuánto tiempo toma un proyecto?
          </div>
          <Icon name="ph:plus" class="faq-icon w-8 h-8 text-black" />
        </div>
        <div
          class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
        >
          <p class="text-base lg:text-lg leading-[1.6] text-neutral-darkest font-heebo max-w-[768px] pt-4">
            El tiempo de ejecución depende del tipo y tamaño del proyecto. Realizamos una evaluación inicial para ofrecer un cronograma realista.
          </p>
        </div>
      </div>
      <div class="bg-black shrink-0 h-px mt-8 max-md:max-w-full"></div>
      <div class="faq-item mt-8" data-aos="fade-up" data-aos-delay="500">
        <div
          class="faq-question flex justify-between gap-5 max-md:max-w-full max-md:flex-wrap cursor-pointer"
        >
          <div class="text-black text-xl font-bold leading-8 tracking-wide">
            ¿Cómo solicito un presupuesto?
          </div>
          <Icon name="ph:plus" class="faq-icon w-8 h-8 text-black" />
        </div>
        <div
          class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
        >
          <p class="text-base lg:text-lg leading-[1.6] text-neutral-darkest font-heebo max-w-[768px] pt-4">
            Para solicitar un presupuesto, puedes contactarnos a través de nuestro formulario en línea o llamarnos directamente.
          </p>
        </div>
      </div>
      <div class="bg-black shrink-0 h-px mt-8 max-md:max-w-full"></div>
      <div class="faq-item mt-8" data-aos="fade-up" data-aos-delay="600">
        <div
          class="faq-question flex justify-between gap-5 max-md:max-w-full max-md:flex-wrap cursor-pointer"
        >
          <div class="text-black text-xl font-bold leading-8 tracking-wide">
            ¿Tienen garantías?
          </div>
          <Icon name="ph:plus" class="faq-icon w-8 h-8 text-black" />
        </div>
        <div
          class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
        >
          <p class="text-base lg:text-lg leading-[1.6] text-neutral-darkest font-heebo max-w-[768px] pt-4">
            Sí, ofrecemos garantías en todos nuestros servicios para asegurar la satisfacción de nuestros clientes.
          </p>
        </div>
      </div>
      <div class="bg-black shrink-0 h-px mt-8 max-md:max-w-full"></div>
      <div class="faq-item mt-8" data-aos="fade-up" data-aos-delay="700">
        <div
          class="faq-question flex justify-between gap-5 max-md:max-w-full max-md:flex-wrap cursor-pointer"
        >
          <div class="text-black text-xl font-bold leading-8 tracking-wide">
            ¿Qué materiales utilizan?
          </div>
          <Icon name="ph:plus" class="faq-icon w-8 h-8 text-black" />
        </div>
        <div
          class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
        >
          <p class="text-base lg:text-lg leading-[1.6] text-neutral-darkest font-heebo max-w-[768px] pt-4">
            Utilizamos materiales de alta calidad que cumplen con los estándares de la industria para garantizar la durabilidad y seguridad.
          </p>
        </div>
      </div>
    </div>
    <div class="self-center flex items-stretch gap-4 mt-20 max-md:mt-10" data-aos="fade-up" data-aos-delay="800">
      <div class="text-black text-4xl font-bold leading-[43.2px] tracking-wide">
        ¿Aún tienes dudas?
      </div>
      <a href="/contacto" class="text-blue-500 text-4xl font-bold leading-[43.2px] tracking-wide underline self-center my-auto">
        Contáctanos
      </a>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const faqItems = document.querySelectorAll(".faq-item");

    faqItems.forEach((item) => {
      const question = item.querySelector(".faq-question");
      const answer = item.querySelector<HTMLElement>(".faq-answer");
      const icon = item.querySelector(".faq-icon");

      if (question && answer && icon) {
        question.addEventListener("click", () => {
          const isOpen = answer.style.maxHeight !== "0px";

          // Close all other answers
          faqItems.forEach((otherItem) => {
            if (otherItem !== item) {
              const otherAnswer = otherItem.querySelector<HTMLElement>(".faq-answer");
              const otherIcon = otherItem.querySelector(".faq-icon");
              if (otherAnswer) {
                otherAnswer.style.maxHeight = "0px";
              }
              if (otherIcon) {
                otherIcon.classList.remove("rotate-45");
              }
            }
          });

          // Toggle current answer
          if (isOpen) {
            answer.style.maxHeight = "0px";
            icon.classList.remove("rotate-45");
          } else {
            answer.style.maxHeight = answer.scrollHeight + "px";
            icon.classList.add("rotate-45");
          }
        });
      }
    });
  });
</script>

<style>
  .faq-icon {
    transition: transform 0.3s ease-in-out;
  }
  .rotate-45 {
    transform: rotate(45deg);
  }
</style>
